var _temp_local_var_1, _temp_local_var_2, _temp_local_var_19;
/*
WARNING: Recursive script decompilation (for member variable name resolution) failed for gml_Script_uiFindAllType

System.InvalidOperationException: Stack empty.
   at System.Collections.Generic.Stack`1.ThrowForEmptyStack()
   at System.Collections.Generic.Stack`1.Pop()
   at UndertaleModLib.Decompiler.Decompiler.DecompileFromBlock(DecompileContext context, Dictionary`2 blocks, Block block, List`1 tempvars, Stack`1 workQueue) in D:\a\UndertaleModTool\UndertaleModTool\UndertaleModLib\Decompiler\Decompiler.cs:line 280
   at UndertaleModLib.Decompiler.Decompiler.DecompileFromBlock(DecompileContext context, Dictionary`2 blocks, Block block) in D:\a\UndertaleModTool\UndertaleModTool\UndertaleModLib\Decompiler\Decompiler.cs:line 795
   at UndertaleModLib.Decompiler.Decompiler.<DecompileFromBlock>g__FindActualNameForAnonymousCodeObject|3_2(DecompileContext context, UndertaleCode anonymousCodeObject) in D:\a\UndertaleModTool\UndertaleModTool\UndertaleModLib\Decompiler\Decompiler.cs:line 563
*/
/*
WARNING: Recursive script decompilation (for member variable name resolution) failed for gml_Script_difficulty_get

System.InvalidOperationException: Stack empty.
   at System.Collections.Generic.Stack`1.ThrowForEmptyStack()
   at System.Collections.Generic.Stack`1.Pop()
   at UndertaleModLib.Decompiler.Decompiler.DecompileFromBlock(DecompileContext context, Dictionary`2 blocks, Block block, List`1 tempvars, Stack`1 workQueue) in D:\a\UndertaleModTool\UndertaleModTool\UndertaleModLib\Decompiler\Decompiler.cs:line 235
   at UndertaleModLib.Decompiler.Decompiler.DecompileFromBlock(DecompileContext context, Dictionary`2 blocks, Block block) in D:\a\UndertaleModTool\UndertaleModTool\UndertaleModLib\Decompiler\Decompiler.cs:line 795
   at UndertaleModLib.Decompiler.Decompiler.<DecompileFromBlock>g__FindActualNameForAnonymousCodeObject|3_2(DecompileContext context, UndertaleCode anonymousCodeObject) in D:\a\UndertaleModTool\UndertaleModTool\UndertaleModLib\Decompiler\Decompiler.cs:line 563
*/
/*
WARNING: Recursive script decompilation (for asset type resolution) failed for gml_Script_difficulty_get

System.InvalidOperationException: Stack empty.
   at System.Collections.Generic.Stack`1.ThrowForEmptyStack()
   at System.Collections.Generic.Stack`1.Pop()
   at UndertaleModLib.Decompiler.Decompiler.DecompileFromBlock(DecompileContext context, Dictionary`2 blocks, Block block, List`1 tempvars, Stack`1 workQueue) in D:\a\UndertaleModTool\UndertaleModTool\UndertaleModLib\Decompiler\Decompiler.cs:line 235
   at UndertaleModLib.Decompiler.Decompiler.DecompileFromBlock(DecompileContext context, Dictionary`2 blocks, Block block) in D:\a\UndertaleModTool\UndertaleModTool\UndertaleModLib\Decompiler\Decompiler.cs:line 795
   at UndertaleModLib.Decompiler.Decompiler.DirectFunctionCall.DoTypePropagation(DecompileContext context, AssetIDType suggestedType) in D:\a\UndertaleModTool\UndertaleModTool\UndertaleModLib\Decompiler\Instructions\Decompiler.DirectFunctionCall.cs:line 139
*/
/*
WARNING: Recursive script decompilation (for asset type resolution) failed for gml_Script_uiFindAllType

System.InvalidOperationException: Stack empty.
   at System.Collections.Generic.Stack`1.ThrowForEmptyStack()
   at System.Collections.Generic.Stack`1.Pop()
   at UndertaleModLib.Decompiler.Decompiler.DecompileFromBlock(DecompileContext context, Dictionary`2 blocks, Block block, List`1 tempvars, Stack`1 workQueue) in D:\a\UndertaleModTool\UndertaleModTool\UndertaleModLib\Decompiler\Decompiler.cs:line 280
   at UndertaleModLib.Decompiler.Decompiler.DecompileFromBlock(DecompileContext context, Dictionary`2 blocks, Block block) in D:\a\UndertaleModTool\UndertaleModTool\UndertaleModLib\Decompiler\Decompiler.cs:line 795
   at UndertaleModLib.Decompiler.Decompiler.DirectFunctionCall.DoTypePropagation(DecompileContext context, AssetIDType suggestedType) in D:\a\UndertaleModTool\UndertaleModTool\UndertaleModLib\Decompiler\Instructions\Decompiler.DirectFunctionCall.cs:line 139
*/
/*
WARNING: Recursive script decompilation (for member variable name resolution) failed for gml_Script_uiAddBoxType

System.InvalidOperationException: Stack empty.
   at System.Collections.Generic.Stack`1.ThrowForEmptyStack()
   at System.Collections.Generic.Stack`1.Pop()
   at UndertaleModLib.Decompiler.Decompiler.DecompileFromBlock(DecompileContext context, Dictionary`2 blocks, Block block, List`1 tempvars, Stack`1 workQueue) in D:\a\UndertaleModTool\UndertaleModTool\UndertaleModLib\Decompiler\Decompiler.cs:line 280
   at UndertaleModLib.Decompiler.Decompiler.DecompileFromBlock(DecompileContext context, Dictionary`2 blocks, Block block) in D:\a\UndertaleModTool\UndertaleModTool\UndertaleModLib\Decompiler\Decompiler.cs:line 795
   at UndertaleModLib.Decompiler.Decompiler.<DecompileFromBlock>g__FindActualNameForAnonymousCodeObject|3_2(DecompileContext context, UndertaleCode anonymousCodeObject) in D:\a\UndertaleModTool\UndertaleModTool\UndertaleModLib\Decompiler\Decompiler.cs:line 563
*/
/*
WARNING: Recursive script decompilation (for member variable name resolution) failed for gml_Script___uiClassCommon

System.InvalidOperationException: Stack empty.
   at System.Collections.Generic.Stack`1.ThrowForEmptyStack()
   at System.Collections.Generic.Stack`1.Pop()
   at UndertaleModLib.Decompiler.Decompiler.DecompileFromBlock(DecompileContext context, Dictionary`2 blocks, Block block, List`1 tempvars, Stack`1 workQueue) in D:\a\UndertaleModTool\UndertaleModTool\UndertaleModLib\Decompiler\Decompiler.cs:line 280
   at UndertaleModLib.Decompiler.Decompiler.DecompileFromBlock(DecompileContext context, Dictionary`2 blocks, Block block) in D:\a\UndertaleModTool\UndertaleModTool\UndertaleModLib\Decompiler\Decompiler.cs:line 795
   at UndertaleModLib.Decompiler.Decompiler.<DecompileFromBlock>g__FindActualNameForAnonymousCodeObject|3_2(DecompileContext context, UndertaleCode anonymousCodeObject) in D:\a\UndertaleModTool\UndertaleModTool\UndertaleModLib\Decompiler\Decompiler.cs:line 563
*/
/*
WARNING: Recursive script decompilation (for asset type resolution) failed for gml_Script___uiClassCommon

System.InvalidOperationException: Stack empty.
   at System.Collections.Generic.Stack`1.ThrowForEmptyStack()
   at System.Collections.Generic.Stack`1.Pop()
   at UndertaleModLib.Decompiler.Decompiler.DecompileFromBlock(DecompileContext context, Dictionary`2 blocks, Block block, List`1 tempvars, Stack`1 workQueue) in D:\a\UndertaleModTool\UndertaleModTool\UndertaleModLib\Decompiler\Decompiler.cs:line 280
   at UndertaleModLib.Decompiler.Decompiler.DecompileFromBlock(DecompileContext context, Dictionary`2 blocks, Block block) in D:\a\UndertaleModTool\UndertaleModTool\UndertaleModLib\Decompiler\Decompiler.cs:line 795
   at UndertaleModLib.Decompiler.Decompiler.DirectFunctionCall.DoTypePropagation(DecompileContext context, AssetIDType suggestedType) in D:\a\UndertaleModTool\UndertaleModTool\UndertaleModLib\Decompiler\Instructions\Decompiler.DirectFunctionCall.cs:line 139
*/
/*
WARNING: Recursive script decompilation (for asset type resolution) failed for gml_Script_uiAddBoxType

System.InvalidOperationException: Stack empty.
   at System.Collections.Generic.Stack`1.ThrowForEmptyStack()
   at System.Collections.Generic.Stack`1.Pop()
   at UndertaleModLib.Decompiler.Decompiler.DecompileFromBlock(DecompileContext context, Dictionary`2 blocks, Block block, List`1 tempvars, Stack`1 workQueue) in D:\a\UndertaleModTool\UndertaleModTool\UndertaleModLib\Decompiler\Decompiler.cs:line 280
   at UndertaleModLib.Decompiler.Decompiler.DecompileFromBlock(DecompileContext context, Dictionary`2 blocks, Block block) in D:\a\UndertaleModTool\UndertaleModTool\UndertaleModLib\Decompiler\Decompiler.cs:line 795
   at UndertaleModLib.Decompiler.Decompiler.DirectFunctionCall.DoTypePropagation(DecompileContext context, AssetIDType suggestedType) in D:\a\UndertaleModTool\UndertaleModTool\UndertaleModLib\Decompiler\Instructions\Decompiler.DirectFunctionCall.cs:line 139
*/
function uiClassDnDInventory() constructor //gml_Script_uiClassDnDInventory
{
    var _temp_local_var_2 = uiClassDnDTarget()
    if @@CopyStatic@@(gml_Script_uiClassDnDTarget)
    {
    }
    else
    {
        function anon_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory_3586_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory() //gml_Script_anon_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory_3586_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory
        {
            self.Set("size", [(__cellWidth * __cellCountX), (__cellHeight * __cellCountY)])
        }

        function anon_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory_3723_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory(argument0, argument1) //gml_Script_anon_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory_3723_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory
        {
            if (argument1 == undefined)
                argument1 = false
            if (argument0 == undefined)
                return;
            var _moving_loot_struct = argument0.__lootStruct
            if argument1
            {
                var _root = uiLayerGetRoot("inventory layer")
                var _loot_array = gml_Script_uiFindAllType(_root, "class_ui_item")
                var _i = 0
                repeat array_length(_loot_array)
                {
                    var _loot = _loot_array[_i].__lootStruct
                    if ((!loot_in_primary_weapon_slot(_loot)) && (!loot_in_secondary_weapon_slot(_loot)))
                    {
                        if (!(variable_struct_exists(_loot, "placement")))
                        {
                        }
                        else
                        {
                            if (identifier == _loot.placement)
                            {
                                if (_moving_loot_struct.item == _loot.item)
                                {
                                    if (_loot.quantity != item_get_stack_max(_loot.item) && _loot.quantity > 0)
                                    {
                                        var _change = _loot.quantity + _moving_loot_struct.quantity
                                        if (_change >= item_get_stack_max(_loot.item))
                                        {
                                            var _decrement = item_get_stack_max(_loot.item) - _loot.quantity
                                            _loot.quantity = item_get_stack_max(_loot.item)
                                        }
                                        else
                                        {
                                            _decrement = _moving_loot_struct.quantity
                                            _loot.quantity += _moving_loot_struct.quantity
                                        }
                                        loot_decrement(_moving_loot_struct, _decrement)
                                        ui_inventory_check_weight()
                                    }
                                }
                            }
                            _i++
                            var _temp_local_var_19 = (array_length(_loot_array) - 1)
                            if (array_length(_loot_array) - 1)
                                continue
                        }
                        break
                    }
                    else
                        _i++
                }
            }
            var _draggingWidth = "width".("width").Get(argument0)
            var _draggingHeight = "height".("height").Get(argument0)
            var _targetCellWidth = 1 + (floor(_draggingWidth / __cellWidth))
            var _targetCellHeight = 1 + (floor(_draggingHeight / __cellHeight))
            var _targetPxWidth = _targetCellWidth * __cellWidth
            var _targetPxHeight = _targetCellHeight * __cellHeight
            var _y = 0
            repeat (1 + __cellCountY - _targetCellHeight)
            {
                var _qTop = _y * __cellHeight
                var _qBottom = _qTop + _targetPxHeight
                var _x = 0
                repeat (1 + __cellCountX - _targetCellWidth)
                {
                    var _qLeft = _x * __cellWidth
                    var _qRight = _qLeft + _targetPxWidth
                    if (self.RectangleCollidesWithChildren(_qLeft, _qTop, _qRight, _qBottom, argument0, overlapTolerance) == undefined)
                        return [(0.5 * (_qLeft + _qRight)), (0.5 * (_qTop + _qBottom))];
                    _x++
                }
                _y++
            }
            return undefined;
        }

        function anon_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory_7213_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory(argument0, argument1) //gml_Script_anon_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory_7213_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory
        {
            __highlightLeft = 0
            __highlightTop = 0
            __highlightRight = 0
            __highlightBottom = 0
            __highlightCollision = false
            var _pointerX = uiPointerGetX() - uiPointerGetCaptureX() - __worldLeft
            var _pointerY = uiPointerGetY() - uiPointerGetCaptureY() - __worldTop
            if (_pointerX < 0 || _pointerY < 0 || _pointerX > (__localRight - __localLeft) || _pointerY > (__localBottom - __localTop))
                return undefined;
            _draggingWidth = "width".("width").Get(argument0)
            _draggingHeight = "height".("height").Get(argument0)
            var _left = _pointerX - 0.5 * _draggingWidth
            var _top = _pointerY - 0.5 * _draggingHeight
            _qLeft = round(_left / __cellWidth)
            _qTop = round(_top / __cellHeight)
            var _qWidth = 1 + (floor(_draggingWidth / __cellWidth))
            var _qHeight = 1 + (floor(_draggingHeight / __cellHeight))
            _qLeft = clamp(_qLeft, 0, (__cellCountX - _qWidth))
            _qTop = clamp(_qTop, 0, (__cellCountY - _qHeight))
            _qRight = _qLeft + _qWidth
            _qBottom = _qTop + _qHeight
            _qLeft *= __cellWidth
            _qTop *= __cellHeight
            _qRight *= __cellWidth
            _qBottom *= __cellHeight
            __highlightCollision = self.RectangleCollidesWithChildren(_qLeft, _qTop, _qRight, _qBottom, argument0, overlapTolerance) != undefined
            if (argument1 || (!__highlightCollision))
            {
                __highlightLeft = _qLeft
                __highlightTop = _qTop
                __highlightRight = _qRight
                __highlightBottom = _qBottom
                return 
                {
                    x: (0.5 * (_qLeft + _qRight)),
                    y: (0.5 * (_qTop + _qBottom))
                };
            }
            else
                return undefined;
        }

    }
    centreOnHover = false
    color = 16777215
    scale = 1
    alpha = 1
    overlapTolerance = 3
    showGridLines = true
    __cellWidth = 16
    __cellHeight = 16
    __cellCountX = 6
    __cellCountY = 8
    __highlightLeft = 0
    __highlightTop = 0
    __highlightRight = 0
    __highlightBottom = 0
    __highlightCollision = false
    self.__UpdateSize()
    self.VariableBind("cellWidth", function() //gml_Script_anon_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory_2813_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory
    {
        return __cellWidth;
    }
, function(argument0) //gml_Script_anon_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory_2873_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory
    {
        __cellWidth = argument0
        self.__UpdateSize()
    }
)
    self.VariableBind("cellHeight", function() //gml_Script_anon_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory_3000_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory
    {
        return __cellHeight;
    }
, function(argument0) //gml_Script_anon_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory_3061_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory
    {
        __cellHeight = argument0
        self.__UpdateSize()
    }
)
    self.VariableBind("cellCountX", function() //gml_Script_anon_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory_3189_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory
    {
        return __cellCountX;
    }
, function(argument0) //gml_Script_anon_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory_3250_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory
    {
        __cellCountX = argument0
        self.__UpdateSize()
    }
)
    self.VariableBind("cellCountY", function() //gml_Script_anon_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory_3378_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory
    {
        return __cellCountY;
    }
, function(argument0) //gml_Script_anon_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory_3439_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory
    {
        __cellCountY = argument0
        self.__UpdateSize()
    }
)
    self.CallbackSetDnDCanReceive(function(argument0) //gml_Script_anon_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory_9349_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory
    {
        return self.__HandleDnD(argument0, true) != undefined;
    }
)
    self.CallbackSetDnDOnReceive(function(argument0) //gml_Script_anon_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory_9493_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory
    {
        var _data = self.__HandleDnD(argument0, false)
        if (_data == undefined)
            return;
        self.self.ParentChange(argument0)
        "x".("x").Set(_data.__x, argument0)
        "y".("y").Set(_data.__y, argument0)
    }
)
    self.CallbackSetStep(function() //gml_Script_anon_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory_9812_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory
    {
        if (!self.GetAnyDragging())
        {
            __highlightLeft = 0
            __highlightTop = 0
            __highlightRight = 0
            __highlightBottom = 0
        }
    }
)
    self.CallbackSetDraw(function() //gml_Script_anon_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory_10067_uiClassDnDInventory_gml_GlobalScript_uiClassDnDInventory
    {
        var _color = merge_color(color, animBlend, animBlendAmount)
        var _scale = scale * animScale
        var _alpha = alpha * animAlpha
        var _oldColor = draw_get_color()
        var _oldAlpha = draw_get_alpha()
        draw_set_color(c_black)
        draw_set_alpha(_alpha)
        draw_rectangle(__drawLeft, __drawTop, __drawRight, __drawBottom, false)
        draw_set_color(_color)
        draw_set_alpha(_alpha)
        draw_rectangle(__drawLeft, __drawTop, __drawRight, __drawBottom, true)
        draw_set_color((__highlightCollision ? c_red : c_white))
        draw_set_alpha(0.3 * _alpha)
        draw_rectangle((__drawLeft + __highlightLeft), (__drawTop + __highlightTop), (__drawLeft + __highlightRight), (__drawTop + __highlightBottom), false)
        draw_set_color(_color)
        if showGridLines
        {
            draw_set_alpha(_alpha)
            _x = __drawLeft + __cellWidth
            repeat (__cellCountX - 1)
            {
                draw_line(_x, __drawTop, _x, __drawBottom)
                _x += __cellWidth
            }
            _y = __drawTop + __cellHeight
            repeat (__cellCountY - 1)
            {
                draw_line(__drawLeft, _y, __drawRight, _y)
                _y += __cellHeight
            }
        }
        draw_set_color(_oldColor)
        draw_set_alpha(_oldAlpha)
    }
)
}

